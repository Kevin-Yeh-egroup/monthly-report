# 故障排除指南

## 按鈕點擊問題修復

### 問題描述
週報詳情及月度摘要按鈕點擊後無法進入對應的功能及畫面

### 已修復的問題

1. **useEffect 依賴問題**
   - 修復了 `calculateMonthlySummary` 函數的調用時機
   - 將月度摘要計算移到獨立的 useEffect 中，依賴 `weeklyReports` 狀態

2. **條件渲染邏輯**
   - 簡化了條件渲染的結構
   - 確保 `activeTab` 狀態正確更新

3. **按鈕事件處理**
   - 添加了 console.log 來調試按鈕點擊
   - 確保 `setActiveTab` 函數正確執行

### 測試步驟

1. **打開瀏覽器開發者工具**
   - 按 F12 打開開發者工具
   - 切換到 Console 標籤

2. **測試按鈕功能**
   - 點擊「週報詳情」按鈕
   - 應該在 Console 中看到「切換到週報詳情」
   - 點擊「月度摘要」按鈕
   - 應該在 Console 中看到「切換到月度摘要」

3. **檢查視覺反饋**
   - 按鈕應該有顏色變化（紅色背景表示當前選中）
   - 內容區域應該正確切換

### 如果問題仍然存在

1. **清除瀏覽器緩存**
   - 按 Ctrl+Shift+R 強制刷新頁面
   - 或者清除瀏覽器緩存

2. **檢查 LocalStorage**
   - 在開發者工具中檢查 Application > Local Storage
   - 確保 `weeklyReports` 數據存在

3. **重新啟動開發服務器**
   ```bash
   npm run dev
   ```

### 備用測試頁面

如果主頁面仍有問題，可以訪問測試頁面：
- 創建了 `app/test.tsx` 作為簡化版本
- 包含基本的標籤切換功能

### 技術細節

- **狀態管理**：使用 `useState` 管理 `activeTab`
- **條件渲染**：使用 `{activeTab === "weekly" && (...)}` 語法
- **事件處理**：使用 `onClick` 處理按鈕點擊
- **樣式切換**：根據 `activeTab` 狀態動態改變按鈕樣式

### 預期行為

1. **週報詳情標籤**
   - 顯示選中週次的所有專案
   - 按類別分組顯示
   - 顯示完成狀態和詳細信息

2. **月度摘要標籤**
   - 顯示7月份統計數據
   - 顯示八月份執行狀況
   - 顯示下月目標

### 聯繫支持

如果問題仍然存在，請提供：
- 瀏覽器類型和版本
- 控制台錯誤信息
- 具體的操作步驟 